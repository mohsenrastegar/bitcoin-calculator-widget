(function(){var f=window.bitcoinwidget_init,n=!0;if(void 0!==f){var l=f.host;void 0!==f.autoload&&(n=!!f.autoload);var m=1,h={},k=[];window.bitcoinwidget={autoload:function(){for(var a=document.getElementsByClassName("bitcoin-button"),c=0;c<a.length;c++)window.bitcoinwidget.init(a[c])},init:function(a){var c=m;m+=1;var b=a.getAttribute("data-message")||"",g=a.getAttribute("data-address"),p=a.getAttribute("data-info")||"received",f="bitcoin:"+g;for(""!==b&&(f+="?message="+encodeURIComponent(b));a.firstChild;)a.removeChild(a.firstChild);
a.style.position="relative";a.style.width="150px";a.style.height="22px";a.style.maxWidth="150px";a.style.maxHeight="22px";a.style.margin="0";a.style.padding="0";var e=document.createElement("iframe");e.setAttribute("src",l+"/widget");e.setAttribute("frameborder","0");e.setAttribute("hspace","0");e.setAttribute("marginheight","0");e.setAttribute("marginwidth","0");e.setAttribute("scrolling","no");e.setAttribute("allowtransparency","true");a.appendChild(e);e.style.width="150px";e.style.height="22px";
e.style.maxWidth="150px";e.style.maxHeight="22px";e.style.margin="0";e.style.padding="0";var d=document.createElement("iframe");d.className+=" bitcoin-bubble";d.setAttribute("frameborder","0");d.setAttribute("hspace","0");d.setAttribute("marginheight","0");d.setAttribute("marginwidth","0");d.setAttribute("scrolling","no");d.setAttribute("allowtransparency","true");document.getElementsByTagName("body")[0].appendChild(d);d.style.display="none";d.style.position="absolute";d.style.width="400px";d.style.height=
"138px";d.style.zIndex=1E7;d.style.border="0px none transparent";d.style.maxWidth="400px";d.style.maxHeight="138px";d.style.margin="0";d.style.padding="0";h[c]={element:a,bubble:d,bubble_inited:!1,level:0,address:g,url:f,info:p,message:b};k.push({element:d,id:c});k.push({element:e,id:c})},show_bubble:function(a,c,b){var g=h[a];if(c){g.bubble_inited||(h[a].bubble.setAttribute("src",l+"/bubble"),g.bubble_inited=!0);g.level=b;g.bubble.style.display="block";b=g.element;a={top:0,left:0};var f=b&&b.ownerDocument;
f?(c=f.documentElement,"undefined"!==typeof b.getBoundingClientRect&&(a=b.getBoundingClientRect()),b=f.defaultView,off={top:a.top+b.pageYOffset-c.clientTop,left:a.left+b.pageXOffset-c.clientLeft}):off=void 0;g.bubble.style.top=138<=off.top?off.top-138+"px":off.top+22+"px";g.bubble.style.left=off.left+Math.min(0,window.innerWidth-off.left-400)+"px"}else g.level<=b&&(g.bubble.style.display="none")}};window.addEventListener("message",function(a){if(a.origin===window.location.protocol+l){var c=a.data;
if("init"===c.method){for(var c=null,b=0;b<k.length;b++)if(k[b].element.contentWindow===a.source){c=k[b].id;break}void 0!==h[c]&&(b=h[c],a.source.postMessage({method:"init",id:c,options:{address:b.address,url:b.url,info:b.info,message:b.message}},a.origin))}else"show_bubble"===c.method&&window.bitcoinwidget.show_bubble(c.id,c.show,c.level)}},!1);n&&("loading"!==document.readyState?window.bitcoinwidget.autoload():document.addEventListener("DOMContentLoaded",function(){window.bitcoinwidget.autoload()},
!1))}})();